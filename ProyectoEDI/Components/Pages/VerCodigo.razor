@page "/ver-lista-codigo/{Id:int}"
@using Entities.Entidades_Definicion
@inject NavigationManager NavigationManager
@rendermode InteractiveServer

<PageTitle>Visualización Lista Código</PageTitle>

<div class="container d-flex justify-content-center align-items-center vh-100" style="margin-top: -100px">
    <div class="card p-4" style="width: 40rem;">
        <h2>Detalles de la Lista de Códigos</h2>
        <div class="mb-3">
            <label><strong>Nombre:</strong></label>
            <input class="form-control" type="text" value="@CodeList.Name" disabled readonly>
        </div>
        <div class="mb-3">
            <label><strong>Descripción:</strong></label>
            <textarea class="form-control" disabled readonly>@CodeList.Description</textarea>
        </div>
        <div class="mb-3">
            <label><strong>Formato de Código:</strong></label>
            <input class="form-control" type="text" value="@CodeList.CodeFormat" disabled readonly>
        </div>
        <div class="d-flex justify-content-center">
            <button class="btn btn-danger w-50" @onclick="Volver">Volver</button>
        </div>
    </div>
</div>

@code {
    [Parameter]
    public int Id { get; set; }

    private CodeList CodeList = new CodeList();

    protected override void OnInitialized()
    {
        CodeList = ListadoCodigos.CodeLists.FirstOrDefault(c => c.Id == Id);
        if (CodeList == null)
        {
            Console.WriteLine($"No se encontró una lista de códigos con el ID: {Id}");
            NavigationManager.NavigateTo("/listado-codigos");
        }
    }

    private void Volver()
    {
        NavigationManager.NavigateTo("/listado-codigos");
    }
}